/*!CK:118504149!*//*1380727975,173223775*/

if (self.CavalryLogger) { CavalryLogger.start_js(["UDE6X"]); }

__d("isEmail",[],function(a,b,c,d,e,f){var g=/^[\w!#\$%&'\*\+\/\=\?\^`\{\|\}~\-]+(:?\.[\w!#\$%&`\*\+\/\=\?\^`\{\|\}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/i;function h(i){return g.test(i);}e.exports=h;});
__d("legacy:SearchDataSource",["SearchDataSource"],function(a,b,c,d){a.SearchDataSource=b('SearchDataSource');},3);
__d("SearchTypeaheadCore",["Event","function-extensions","Arbiter","DOM","Input","Parent","TypeaheadCore","copyProperties"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Arbiter'),i=b('DOM'),j=b('Input'),k=b('Parent'),l=b('TypeaheadCore'),m=b('copyProperties');for(var n in l)if(l.hasOwnProperty(n))p[n]=l[n];var o=l===null?null:l.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=l;function p(q){l.call(this,q);}p.prototype.init=function(q,r,s){o.init.call(this,q,r,s);var t=k.byTag(s,'form'),u=this.reset.bind(this);h.subscribe('pre_page_transition',function(event,w){var x=/^\/search/,y=x.test(w.from.path),z=x.test(w.to.path);if(y&&!z)u.defer();});if(t){var v=i.find(t,'input.search_sid_input');g.listen(t,'submit',function(){if(this.data&&this.data.queryData)v.value=this.data.queryData.sid;u.defer();}.bind(this),g.Priority.URGENT);}};p.prototype.select=function(){this.reset();this.element.focus();(function(){this.element.blur();}).bind(this).defer();};p.prototype.handleTab=function(event){var q=this.view.getQuerySuggestion(this.value);if(q){j.setValue(this.element,q);this.checkValue();event.kill();}else o.handleTab.call(this,event);};p.prototype.getSearchType=function(){return 'regular';};e.exports=p;});
__d("legacy:SearchTypeaheadCore",["SearchTypeaheadCore"],function(a,b,c,d){a.SearchTypeaheadCore=b('SearchTypeaheadCore');},3);
__d("SearchTypeaheadView",["Arbiter","ContextualTypeaheadView","ContextualLayerUpdateOnScroll","copyProperties","DOM","goURI","MusicConstants","MusicEvents","tx","URI","isEmail","fbt"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ContextualTypeaheadView'),i=b('ContextualLayerUpdateOnScroll'),j=b('copyProperties'),k=b('DOM'),l=b('goURI'),m=b('MusicConstants'),n=b('MusicEvents'),o=b('tx'),p=b('URI'),q=b('isEmail'),r=b('fbt');for(var s in h)if(h.hasOwnProperty(s))u[s]=h[s];var t=h===null?null:h.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=h;function u(w,x){h.call(this,w,x);}u.prototype.initializeLayer=function(){t.initializeLayer.call(this);this.layer.setOffsetY(-1);this.layer.enableBehavior(i);};u.prototype.ignoreClick=function(event){event.prevent();};u.prototype.render=function(w,x,y){if(this._bucketize)x=v(x);var z={results:x,value:w};this.inform('finalResultsReordering',z);return t.render.call(this,w,z.results,y);};u.prototype.disableBucketization=function(){this._bucketize=false;};u.prototype.buildBuckets=function(w,x){var y=x.length,z=0,aa;for(aa=0;aa<y;++aa)if(x[aa].type=='user')z++;this._redirectToUsersResultsPage=this.showFilterResults&&z===y;this.setWebSuggLoggingParams(w,x);if(this._bucketize)x=t.buildBuckets.call(this,w,x);if(w&&this._shouldShowSeeMore){x.push(this.buildSeeMore(w,y));if(q(w)&&(z<1))x.push(this.buildInvite(w));}return x;};u.prototype.buildSeeMore=function(w,x){var y=this.getSeeMoreText(w,x),z=x==1?"Se muestra el primer resultado":o._("Mostrando primeros {number} resultados",{number:x}),aa=k.create('li',{className:'calltoaction'},[k.create('a',{href:this.getSeeMoreEndpoint(w),rel:'ignore'},[k.create('span',{className:'text'},[k.create('span',{className:'seeMore'},[y,k.create('span',{className:'arrow'})]),k.create('span',{className:'subtext'},[z])])])]);aa.setAttribute('aria-label',y);return {uid:'search',node:aa,search:true};};u.prototype.getSeeMoreText=function(w,x){if(this.showKeywordResultsPage)return r._("Buscar {query}",[r.param("query",w)]);if(x<=0)return o._("Ver resultados de {query}",{query:w});if(this._redirectToUsersResultsPage)return r._("Filtrar resultados de {query}",[r.param("query",w)]);return o._("Ver m\u00e1s resultados para {query}",{query:w});};u.prototype.buildInvite=function(w){var x=o._("Invita a {query} a Facebook",{query:w}),y=k.create('li',{className:'calltoaction'},[k.create('a',{href:this.getInviteEndpoint(w),rel:'ignore'},[k.create('span',{className:'text'},[k.create('span',{className:'invite'},[x])])])]);y.setAttribute('aria-label',x);return {uid:'invite',node:y,search:true};};u.prototype.searchPageQueryData=function(w){return j({q:w},this.queryData||{});};u.prototype.searchPageTypeData=function(){return this._redirectToUsersResultsPage?{type:"users"}:{};};u.prototype.select=function(w){var x=this.index,y=this.results[x];if(!y||y.type=='header')return;var z=this.items[x],aa=k.scry(z,'a')[0];if(y.song){if(aa)n.inform(m.MUSIC_BUTTON.ACTIVATE,aa);w&&this.inform('highlight',{index:x,selected:y});}else{t.select.call(this,w);if(aa&&aa.href)if(aa.target=='_blank'){window.open(aa.href);}else l(aa.href);}};u.prototype.setSid=function(w){this.queryData.tas=w;};u.prototype.getSeeMoreEndpoint=function(w){return p(this.seeMoreEndpoint).addQueryData(this.searchPageQueryData(w)).addQueryData(this.searchPageTypeData()).toString();};u.prototype.getInviteEndpoint=function(w){return p('/invite.php').addQueryData({email_list:w});};u.prototype.show=function(){if(!this.isVisible()){g.inform('layer_shown',{type:'SearchTypeahead'});t.show.call(this);}};u.prototype.hide=function(){if(this.isVisible()){g.inform('layer_hidden',{type:'SearchTypeahead'});t.hide.call(this);}};u.prototype.getQuerySuggestion=function(w){var x=this.results[this.index],y=x&&x.type!='header'?x.text.toLowerCase():'';return y==w.toLowerCase()?'':y;};u.prototype.setWebSuggLoggingParams=function(w,x){var y=0,z=0;for(var aa=0;aa<x.length;aa++)if(x[aa].type==='websuggestion'){if(z===0)z=aa+1;var ba='FR'+(aa-y)+'AS'+y,ca=aa+1;x[aa].path+='&wssk='+ba+'&wssp='+ca+'&wspq='+encodeURIComponent(w);x[aa].path+='&wssrc='+x[aa].websuggestion_source;y++;}var da='&wssc='+x.length+'-'+w.length+'&wsbp='+y+'-'+z;for(aa=0;aa<x.length;aa++)if(x[aa].type==='websuggestion')x[aa].path+=da;};function v(w){var x,y,z,aa,ba=[],ca={};y=w.length;for(x=0;x<y;x++){z=w[x];aa=z.render_type||z.type;if(!ca.hasOwnProperty(aa)){ca[aa]=ba.length;ba.push([]);}ba[ca[aa]].push(z);}var da=[];y=ba.length;for(x=0;x<y;++x){z=ba[x][0];aa=z.render_type||z.type;da=da.concat(ba[x]);}return da;}j(u.prototype,{_shouldShowSeeMore:true,_bucketize:true,queryData:{init:'quick'}});e.exports=u;});
__d("legacy:SearchTypeaheadView",["SearchTypeaheadView"],function(a,b,c,d){a.SearchTypeaheadView=b('SearchTypeaheadView');},3);
__d("legacy:Typeahead",["Typeahead"],function(a,b,c,d){a.Typeahead=b('Typeahead');},3);
__d("TypeaheadSearchRecorderBasic",["SearchTypeaheadRecorder","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('SearchTypeaheadRecorder'),h=b('copyProperties'),i=b('emptyFunction');function j(k){this._typeahead=k;}j.prototype.enable=function(){new g(this._typeahead);};h(j.prototype,{disable:i});e.exports=j;});
__d("legacy:SearchRecorderBasicTypeaheadBehavior",["TypeaheadSearchRecorderBasic"],function(a,b,c,d){var e=b('TypeaheadSearchRecorderBasic');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.searchRecorderBasic=function(f){f.enableBehavior(e);};},3);
__d("SearchTypeaheadRenderer",["BadgeHelper","DOM","Env","MusicButtonManager","TypeaheadFacepile","TokenizeUtil"],function(a,b,c,d,e,f){var g=b('BadgeHelper'),h=b('DOM'),i=b('Env'),j=b('MusicButtonManager'),k=b('TypeaheadFacepile'),l=b('TokenizeUtil');function m(n,o){var p=[],q=n.photos||n.photo;if(q){if(q instanceof Array){q=k.render(q);}else q=h.create('img',{alt:'',src:q});p.push(q);if(n.song){p.push(h.create('span',{className:'playButton'}));p.push(h.create('span',{className:'playLoader'}));}}var r;if(n.text){var s=n.alias,t=this.value,u=n.text;r=[u];if(s&&l.isQueryMatch(t,s)&&!l.isQueryMatch(t,u))r.push(h.create('span',{className:'alias'},[' \xB7 '+s]));if(n.is_verified)r.push(g.renderBadge('xsmall','verified'));p.push(h.create('span',{className:'text'},r));}if(n.category){var v=[n.category];if(n.is_external)v.push(h.create('span',{className:'arrow'}));var w=n.message?'preCategory':'category';p.push(h.create('span',{className:w},v));}if(n.message)p.push(h.create('span',{className:'category'},[n.message]));var x=n.subtextOverride||n.subtext;if(x)p.push(h.create('span',{className:'subtext'},[x]));var y=n.classNames||n.type||'',z=n.is_external?'_blank':'',aa=!n.song&&n.path||'';if(aa){if(!(/^https?\:\/\//).test(aa))aa=i.www_base+aa.substr(1);aa+=(aa.indexOf('?')>0?'&':'?')+'ref=ts&fref=ts';}var ba=h.create('a',{href:aa,rel:'ignore',target:z},p);if(n.song){ba.id='mb_'+(Math.random()*1e+06|0);j.addButton.curry(n.song.provider,ba.id,n.song.url,n.song.context,n.song.media_type).defer();ba.onclick=this.ignoreClick;}var ca=h.create('li',{className:y},[ba]);if(n.text)ca.setAttribute('aria-label',n.text);return ca;}m.className='search';e.exports=m;});
__d("legacy:SearchTypeaheadRenderer",["SearchTypeaheadRenderer"],function(a,b,c,d){if(!a.TypeaheadRenderers)a.TypeaheadRenderers={};a.TypeaheadRenderers.search=b('SearchTypeaheadRenderer');},3);
void(0);
__d("TypeaheadSearchFilter",["Arbiter","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('copyProperties');function i(j){this._typeahead=j;}i.prototype.enable=function(){var j=this._typeahead,k=j.getView().seeMoreEndpoint;this._subscriptions=[g.subscribe('search/typeahead/updateFilter',function(l,m){if(m.filter_type=='web')j.getView().queryData.form='FBKBFR';j.getView().queryData.type=m.filter_type;}),g.subscribe('search/typeahead/updateSeeMoreEndpoint',function(l,m){j.getView().seeMoreEndpoint=m;}),g.subscribe('page_transition',function(l,m){if(j.getView().queryData.form)delete j.getView().queryData.form;delete j.getView().queryData.type;j.getView().seeMoreEndpoint=k;},g.SUBSCRIBE_NEW)];};i.prototype.disable=function(){this._subscriptions.forEach(function(j){j.unsubscribe();});this._subscriptions=null;};h(i.prototype,{_subscription:null});e.exports=i;});
__d("legacy:SearchFilterTypeaheadBehavior",["TypeaheadSearchFilter"],function(a,b,c,d){var e=b('TypeaheadSearchFilter');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.initFilters=function(f){f.enableBehavior(e);};},3);
__d("TypeaheadDetectQueryLocale",[],function(a,b,c,d,e,f){function g(h){this._typeahead=h;this._data=h.getData();this._queryCache={'':this._data.queryCache,ja_JP:{},zh_TW:{}};}g.prototype.enable=function(){this._previousLocale='';this._reset=this._typeahead.subscribe('reset',this._swapQueryCache.bind(this,''));this._beforeQuery=this._data.subscribe('beforeQuery',function(h,i){var j=i.value;if(j===''){this._swapQueryCache('');return;}var k=null,l=j.charCodeAt(j.length-1);if(12352<=l&&l<=12543){k='ja_JP';}else if(12544<=l&&l<=12735)k='zh_TW';this._swapQueryCache(k);}.bind(this));};g.prototype.disable=function(){this._swapQueryCache('');this._data.unsubscribe(this._beforeQuery);this._typeahead.ubsubscribe(this._reset);};g.prototype._swapQueryCache=function(h){if(h===null||h===this._previousLocale)return;this._data.queryCache=this._queryCache[h];this._data.setQueryData({query_locale:h});this._previousLocale=h;};e.exports=g;});
__d("TypeaheadExcludeBootstrapFromQueryCache",[],function(a,b,c,d,e,f){function g(h){this._data=h.getData();}g.prototype.enable=function(){this._buildingQueryCache=false;this._buildQueryCache=this._data.subscribe('buildQueryCache',function(){this._buildingQueryCache=true;}.bind(this));this._mergeUids=this._data.subscribe('mergeUids',function(h,i){if(this._buildingQueryCache)i.local_uids.splice(0,i.local_uids.length);}.bind(this));this._fetchComplete=this._data.subscribe('fetchComplete',function(){this._buildingQueryCache=false;}.bind(this));};g.prototype.disable=function(){this._data.unsubscribe(this._buildQueryCache);this._data.unsubscribe(this._mergeUids);this._data.unsubscribe(this._fetchComplete);};e.exports=g;});
__d("TypeaheadRegulateMemorializedUsers",["TokenizeUtil","copyProperties"],function(a,b,c,d,e,f){var g=b('TokenizeUtil'),h=b('copyProperties');function i(j){this._typeahead=j;}i.prototype._filter=function(j,k){if(j.type!=='user'||!j.memorialized)return true;var l=g.parse(j.text).tokens;if(l.length===1&&g.isExactMatch(k,j.text))return true;var m=this._typeahead.getData().getTextToIndex(j),n=g.parse(k).tokens;return (n.length>1&&g.isQueryMatch(k,m));};i.prototype.enable=function(){this._filterRegistry=this._typeahead.getData().addFilter(this._filter.bind(this));};i.prototype.disable=function(){this._filterRegistry.remove();this._filterRegistry=null;};h(i.prototype,{_filterRegistry:null});e.exports=i;});
__d("legacy:RegulateMemorializedUsersTypeaheadBehavior",["TypeaheadRegulateMemorializedUsers"],function(a,b,c,d){var e=b('TypeaheadRegulateMemorializedUsers');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.regulateMemorializedUsers=function(f){f.enableBehavior(e);};},3);